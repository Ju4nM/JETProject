<div class="grid grid-cols-1 m-3 gap-4 sm:grid-cols-2 lg:gap-14 justify-center xl:m-10 xl:gap-20 xl:mx-20">
    <div class="bg-[#319CFF] w-full rounded-xl p-4 flex flex-col items-center justify-center gap-5 xl:box-border xl:p-16">
        <h1 class = "text-9xl text-center w-full">{{currentTemperature}}°</h1>
        <div class = "bg-white rounded-full text-black p-3 font-semibold text-xl whitespace-nowrap w-full text-center xl:w-">Temperatura actual</div>
    </div>
    <div class = "bg-[#319CFF] w-full rounded-xl p-4 flex flex-col gap-5 text-black md:text-lg xl:flex-row xl:gap-14 xl:text-xl xl:p-16">
        <div class="flex flex-col gap-2 xl:w-full xl:items-center">
            <h1 class = "font-semibold text-xl text-center xl:text-2xl">Control de temperatura</h1>
            <div class = "flex flex-col gap-3">
                <p>Temperatura actual: <span class = "font-semibold">{{tempLimitDisplayed}}°</span></p>
                <input type = "number" value = "{{temperatureLimit}}" class = "text-field" [(ngModel)]="currentTemperatureLimit">
                <button class = "button button-success" (click)="updateTemperatureLimit()">Actualizar</button>
            </div>
        </div>
        <div class="flex flex-col gap-2 xl:w-full xl:items-center">
            <h1 class = "font-semibold text-xl text-centera xl:text-2xl">Ventilacion</h1>
            <div class = "flex flex-col justify-center gap-3">
                <p class = "2xl:whitespace-nowrap">Estado: <span class="font-semibold">{{fanStatus ? 'Encendida' : 'Aapagada'}}</span></p>
                <div class = "flex gap-5 items-center">
                    <p class="text-lg">Encender: </p>
                    <label class = "switch" for = "fanState">
                        <input type="checkbox" class = "hidden" id = "fanState" [(ngModel)]="fanStatus" (click)="toggleFan()"/>
                        <span class = "slider"></span>
                    </label>
                </div>
                <!-- <button class="button button-success">Encender</button> -->
            </div>
        </div>
    </div>
    <div class = "w-full sm:col-span-2 lg:px-14 lg:box-border xl:px-0">
        <!-- <canvas id = "todayChart">{{ todayChart }}</canvas> -->
        <app-today-chart></app-today-chart>
    </div>
</div>

<app-modal [title]="'Error'" #errorModal>
    <p class = "text-lg">{{error}}</p>
</app-modal>

<app-modal [title]="'Aviso'" #warningModal>
    <p class = "text-lg">{{warning}}</p>
</app-modal>

<app-loading-spinner class="{{isLoading ? '' : 'hidden'}}"></app-loading-spinner>